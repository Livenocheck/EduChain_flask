<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <h1>Привет, {{ first_name }}!</h1>
    <p>Ваш ID: {{ user_id }}</p>
    <button id="getBalance">Получить баланс</button>
    <pre id="result"></pre>

    <script>
        // Получаем initData от Telegram
        const initData = Telegram.WebApp.initData;

        // Кнопка для запроса баланса
        document.getElementById('getBalance').onclick = async () => {
            const response = await fetch('/api/balance', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ initData: initData })
            });
            const result = await response.json();
            document.getElementById('result').textContent = JSON.stringify(result, null, 2);
        };
    </script>
</body>
</html>
